{"version":3,"sources":["app.js","game-deck.js","game-functions.js","insta-api.js","page-manager.js","register-pages.js","routes.js","shuffle-cards.js","timer.js"],"names":["app","router","Rlite","$","gameDeck","numPairs","cards","shuffle","split","slice","concat","memoryGame","on","e","flipOver","tile","prop","attr","previous","undefined","decrement","current","lives","text","count","this","length","prevChar","next","children","thisChar","addClass","win","time","result","score","class","manager","goTo","lose","window","setTimeout","InstaApi","apiKey","baseUrl","spec","console","log","self","listings","user","userName","url","userID","promise","Deferred","req","getJSON","done","data","ok","resolve","reject","PageManager","views","registerPage","name","callback","html","get","template","_","variable","fail","obj","err","deck","gametiles","tiles","level","timer","gameover","append","item","add","processHash","hash","location","run","show404Page","addEventListener","arr","swap","array","x","y","tmp","i","randomIndex","Math","floor","random","showInt","minutes","seconds","timerInt","setInterval","clearInterval"],"mappings":"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","file":"app.js","sourcesContent":["var app = {\n  router: Rlite()\n};\n","$(function() {\n\n  // Generates a random deck of cards\n  app.gameDeck = function (numPairs) {\n    // take the cards, split them into an array and shuffle\n    var cards = app.shuffle('123456789abcdefg'.split(''));\n\n    // choose how many cards we want\n    cards = cards.slice(0, numPairs);\n\n    // double the array to create pairs\n    cards = cards.concat(cards);\n\n    // shuffle and return\n    return app.shuffle(cards);\n  };\n\n\n});\n","// Function to handle main game actions\napp.memoryGame = function() {\n  $('.game-checkbox').on('change', function(e) {\n    // When you click on a tile (:checked)\n    var tile = $(this);\n    var lives = $('.game-icons p');\n    var count = lives.text().length;\n\n    tile.attr('disabled', true);\n\n    if (!app.previous) {\n    //  register the checked tile\n      app.previous = tile;\n      return;\n    }\n\n    // When you click on a second tile\n    var prevChar = app.previous.next().children('.game-icon').text();\n    var thisChar = tile.next().children('.game-icon').text();\n    // compare the value to the first tile\n    if (prevChar === thisChar) {\n      // if matches\n        // add a class to the tile that lets us know they match\n      tile.addClass('matched');\n      app.previous.addClass('matched');\n          // and disables the tiles\n      $('.matched').prop('disabled', true);\n        // enable remaining tiles\n      app.previous = undefined;\n\n\n      // see if we win and show screen if we do\n      if(lives === $('.game-checkbox').length) {\n        var win = {\n          time: app.time + 's',\n          result: 'You Win!!',\n          score: count,\n          class: 'game-win'\n        };\n        app.manager.goTo('result', win);\n      }\n\n    } else {\n    // if doesn't match\n      // timeout(turn the tiles back over)\n      decrement();\n      if(count <= 1) {\n        var lose = {\n          time: app.time + 's',\n          result: 'You Lose!!',\n          score: 0,\n          class: 'game-win'\n        };\n        app.manager.goTo('result', lose);\n\n        return;\n      }\n      // decrement the count and see if we lose\n      window.setTimeout(flipOver, 1000);\n    }\n    function flipOver() {\n      tile.prop('checked', false);\n      tile.attr('disabled', false);\n      app.previous.prop('checked', false);\n      app.previous.attr('disabled', false);\n      app.previous = undefined;\n    }\n    function decrement() {\n      var current = lives.text().slice(0, count - 1);\n      lives.text( current );\n    }\n  });\n\n};\n","app.InstaApi = function(apiKey) {\n\n  var baseUrl = 'https://api.instagram.com/v1/';\n  if(!spec.apiKey) {\n    throw console.log('you must enter an api');\n  }\n  var user;\n\n\n  var self = {\n    listings: function() {\n\n    },\n    user: function(userName) {\n      var url = baseUrl + 'users/search?access_token=' + spec.apiKey + 'q=' + userID;\n      var promise = $.Deferred();\n\n      var req = $.getJSON(url).done(function(data){\n        if(!data.ok) {\n          promise.reject(req, 'Unknown Error', data);\n        } else {\n\n          promise.resolve(data);\n          var user = data;\n        }\n      });\n      return promise;\n    }\n\n  };\n\n\n  return self;\n\n};\n","app.PageManager = function () {\n  app.views = {};\n\n  var self = {\n    registerPage: function (name, callback) {\n\n      // Where do we store the templates??\n      app.views[name] = callback;\n\n    },\n\n    goTo: function(name, data) {\n\n      $('main').html(app.views[name](data));\n\n    }\n  };\n\n  return self;\n};\n","$(function() {\n\n  app.manager = app.PageManager();\n\n  app.manager.registerPage('newgame', function() {\n    $.get('views/newgame.html').done(function (html) {\n      var template = _.template(html, { variable: 'm' });\n      $('main').html(template());\n      $('main').attr('class', 'main-container');\n    }).fail(function(obj, text, err) {\n      console.log(err + ' ' + text);\n    });\n  });\n\n  app.manager.registerPage('gametiles', function(deck) {\n    $.get('views/gametiles.html').done(function(html){\n      console.log(html);\n      var template = _.template(html, { variable: 'm' });\n      var gametiles = template({deck: deck});\n      $('.game-board').html(gametiles);\n    }).fail(function(obj, text, err) {\n      console.log('could not find gametiles');\n    });\n  });\n\n\n  app.manager.registerPage('easygame', function() {\n    $.get('views/gameboard.html').done(function(html){\n      var template = _.template(html, { variable: 'm' });\n      // generate deck of cards & pass into template\n      var deck = {\n        tiles: app.gameDeck('9'),\n        level: 'easy-tile'\n      };\n      $('main').html(template());\n      $('main').attr('class', 'game-container');\n      app.views.gametiles(deck);\n      app.timer();\n    }).fail(function(obj, text, err) {\n      console.log('could not find gameboard');\n    });\n  });\n\n  app.manager.registerPage('hardgame', function() {\n    $.get('views/gameboard.html').done(function(html){\n      var template = _.template(html, { variable: 'm' });\n      // generate deck of cards & pass into template\n      var deck = {\n        tiles: app.gameDeck('16'),\n        level: 'hard-tile'\n      };\n      $('main').html(template());\n      $('main').attr('class', 'game-container');\n      app.views.gametiles(deck);\n      app.timer();\n    }).fail(function(obj, text, err) {\n      console.log('could not find gameboard');\n    });\n  });\n\n  app.manager.registerPage('result', function(result) {\n    $.get('views/game-over.html').done(function(html){\n       var gameover = _.template(html, { variable: 'm' });\n       // generate deck of cards & pass into template\n       $('main').append(gameover({item:result}));\n      //  $('main').attr('class', 'game-container');\n    }).fail(function(obj, text, err) {\n      console.log('could not find results page');\n    });\n  });\n\n});\n","$(function () {\n\n  app.router.add('', function() {\n    app.manager.goTo('newgame', {});\n  });\n\n  app.router.add('game/easy', function() {\n    app.manager.goTo('easygame');\n    window.setTimeout(app.memoryGame, 500);\n  });\n\n  app.router.add('game/hard', function() {\n    app.manager.goTo('hardgame');\n    window.setTimeout(app.memoryGame, 500);\n  });\n\n  app.router.add('game/result', function() {\n    app.manager.goTo('result');\n  });\n\n  app.processHash = function() {\n    var hash = location.hash || '#';\n\n    if (!app.router.run(hash.slice(1))) {\n      show404Page();\n    }\n  };\n\n  window.addEventListener('hashchange', app.processHash);\n\n  app.processHash();\n\n});\n","app.shuffle = function(arr) {\n\n  function swap(array, x, y) {\n    var tmp = array[x];\n    array[x] = array[y];\n    array[y] = tmp;\n    return array;\n  }\n\n  for (var i =0; i < arr.length; ++i) {\n    var randomIndex = Math.floor(Math.random() * arr.length);\n    arr = swap(arr, i, randomIndex);\n  }\n\n  return arr;\n\n};\n","app.timer = function() {\n  app.time = 0;\n  var seconds = 0;\n\n  function showInt() {\n    ++app.time;\n    var minutes = Math.floor(app.time/60);\n    ++seconds;\n\n    if (minutes > 59) {\n      window.location = '#game/lose';\n    }\n    if (seconds > 59) {\n      seconds = 0;\n    }\n\n    if (seconds > 9) {\n      $('.time-counter p').text(minutes + ':' + seconds);\n    } else {\n      $('.time-counter p').text(minutes + ':0' + seconds);\n    }\n  }\n  var timerInt = window.setInterval(showInt, 1000);\n  window.addEventListener('hashchange', function() {\n\n    clearInterval(timerInt);\n    app.time=0;\n  });\n};\n"],"sourceRoot":"/source/"}